{% extends 'party/base.html' %}
{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invitation Form</title>
    <script>
        function toggleFields() {
            var checkbox = document.getElementById("id_invitation");
            var addressField = document.getElementById("id_address").parentElement;
            var groupTypeField = document.getElementById("id_group_type").parentElement;
            var guestsField = document.getElementById("id_number_of_guests").parentElement;
            var cityField = document.getElementById("id_city").parentElement;
            var stateField = document.getElementById("id_state").parentElement;
            var zipCodeField = document.getElementById("id_zip_code").parentElement;
            var guestnamesField = document.getElementById("id_guest_names").parentElement;

            // Show/hide address, group type, city, state, and zip code fields based on invitation checkbox
            if (checkbox.checked) {
                addressField.style.display = "block";  // Show address field if invitation is checked
                groupTypeField.style.display = "none";  // Show group type if invitation is checked
                cityField.style.display = "block";  // Show city field if invitation is checked
                stateField.style.display = "block";  // Show state field if invitation is checked
                zipCodeField.style.display = "block";  // Show zip code field if invitation is checked
                guestsField.style.display = "none";  // Hide number of guests if invitation is checked
                guestnamesField.style.display = "none";
            } else {
                addressField.style.display = "none";  // Hide address if invitation is unchecked
                groupTypeField.style.display = "block";  // Hide group type if invitation is unchecked
                cityField.style.display = "none";  // Hide city field if invitation is unchecked
                stateField.style.display = "none";  // Hide state field if invitation is unchecked
                zipCodeField.style.display = "none";  // Hide zip code field if invitation is unchecked
                guestsField.style.display = "block";  // Show number of guests if invitation is unchecked
                guestnamesField.style.display = "block";
            }
        }

        document.addEventListener("DOMContentLoaded", function () {
            toggleFields();  // Ensure the correct field is shown on page load
            document.getElementById("id_invitation").addEventListener("change", toggleFields);
        });
    </script>
</head>
<body>
    <h2>Fill the Invitation Form</h2>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Submit</button>
    </form>
</body>
</html>

{% endblock %}